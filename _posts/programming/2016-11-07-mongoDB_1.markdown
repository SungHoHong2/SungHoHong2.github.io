---
published: true
title: MongoDB basic 
layout: post
category: programming
permalink: /programming/
---


### What is Mongo DB

1. Open-source NoSQL database 
    - catch al term for database that generaly aren't relational and don't have a query language like SQL 
2. Document-oriented 
3. Great for unstructured data, especially when you have a lot of it 


<br>

### Difference between MongoDB and SQL 


| SQL | MongoDB | 
|--|--|
|  database  |  database  |
| table  | collection |
| row | document |


<br> 


``` 

# using the test database 

> use test
> db.potions.insert({ "name" : "Invisibility", "vendor" : "Kettlecooked" })


> db.potions.find()
{ "_id" : ObjectId("581fcf028b055310e30d71e0"), "name" : "Invisibility", "vendor" : "Kettlecooked" }



# adding data to collections  

> db.potions.insert({"name" : "Hello1", "vendor" : "howdy1"})
WriteResult({ "nInserted" : 1 })
> db.potions.insert({ "name" : "Hello2", "vendor" : "howdy2"})
WriteResult({ "nInserted" : 1 })

 
# finding data from collections 

> db.potions.find()
{ "_id" : ObjectId("581fcf028b055310e30d71e0"), "name" : "Invisibility", "vendor" : "Kettlecooked" }
{ "_id" : ObjectId("581fcf838b055310e30d71e1"), "name" : "Hello1", "vendor" : "howdy1" }
{ "_id" : ObjectId("581fcfa18b055310e30d71e2"), "name" : "Hello2", "vendor" : "howdy2" }


# finding data from the list 

> db.potions.find({"list" : 2})
{ "_id" : ObjectId("581fe0968b055310e30d71e4"), "list" : [ 2, 3 ] }
{ "_id" : ObjectId("581fe09f8b055310e30d71e5"), "list" : [ 2, 3 ], "flavor" : 1 }


# removing the data 

> db.potions.remove({ })
WriteResult({ "nRemoved" : 6 })


# updating the data 
 
 > db.potions.update({"name" : "Hello1"}, {"price" : 23423})
WriteResult({ "nMatched" : 1, "nUpserted" : 0, "nModified" : 1 })
> 
> db.potions.find()
{ "_id" : ObjectId("581fe3ff8b055310e30d71e6"), "price" : 23423 }
{ "_id" : ObjectId("581fe40b8b055310e30d71e7"), "name" : "Hello2", "vendor" : "howdy2" }
> 


# multiple updates 

> db.potions.update({"name": "Hello1"}, {"$set" : {"price" : 222}}, {"multi" : true}  )
WriteResult({ "nMatched" : 0, "nUpserted" : 0, "nModified" : 0 })



# update increment 

> db.potions.update({"_id" : ObjectId("581fe3ff8b055310e30d71e6")}, {"$inc" : {"price" : 1}})
WriteResult({ "nMatched" : 1, "nUpserted" : 0, "nModified" : 1 })
> db.potions.find()
{ "_id" : ObjectId("581fe3ff8b055310e30d71e6"), "price" : 23424 }
{ "_id" : ObjectId("581fe40b8b055310e30d71e7"), "name" : "Hello2", "vendor" : "howdy2" }




# update increment and add if there are no matched data


> db.potions.update({"name" : "howdy1"}, {"$inc" : {"count" : 1}}, {"upsert": true } )
WriteResult({
	"nMatched" : 0,
	"nUpserted" : 1,
	"nModified" : 0,
	"_id" : ObjectId("581fe788edba54d3a4bd5075")
})

> db.potions.find()
{ "_id" : ObjectId("581fe3ff8b055310e30d71e6"), "price" : 23424 }
{ "_id" : ObjectId("581fe40b8b055310e30d71e7"), "name" : "Hello2", "vendor" : "howdy2" }
{ "_id" : ObjectId("581fe788edba54d3a4bd5075"), "name" : "howdy1", "count" : 1 }
> 




### removing a specific column 

> db.potions.update({}, {"$unset" : {"vendor": "howdy2" }},{"multi" : true} )
WriteResult({ "nMatched" : 3, "nUpserted" : 0, "nModified" : 1 })
> db.potions.find()
{ "_id" : ObjectId("581fe3ff8b055310e30d71e6"), "price" : 23424 }
{ "_id" : ObjectId("581fe40b8b055310e30d71e7"), "name" : "Hello2" }
{ "_id" : ObjectId("581fe788edba54d3a4bd5075"), "name" : "howdy1", "count" : 1 }
> 


### changing the column name 

> db.potions.update({}, {'$rename' : {"count" : "count_update"}},{"multi": true} )
WriteResult({ "nMatched" : 3, "nUpserted" : 0, "nModified" : 1 })
> db.potions.find()
{ "_id" : ObjectId("581fe3ff8b055310e30d71e6"), "price" : 23424 }
{ "_id" : ObjectId("581fe40b8b055310e30d71e7"), "name" : "Hello2" }
{ "_id" : ObjectId("581fe788edba54d3a4bd5075"), "name" : "howdy1", "count_update" : 1 }
> 


### using pop for the list 

> db.potions.find( { "_id" : ObjectId("581fe3ff8b055310e30d71e6") })
{ "_id" : ObjectId("581fe3ff8b055310e30d71e6"), "categories" : [ 1, 2, 3, 4 ] }
> 
> db.potions.update({"_id" : ObjectId("581fe3ff8b055310e30d71e6")}, {"$pop":{"categories" : 1}})
WriteResult({ "nMatched" : 1, "nUpserted" : 0, "nModified" : 1 })
> db.potions.find( { "_id" : ObjectId("581fe3ff8b055310e30d71e6") })
{ "_id" : ObjectId("581fe3ff8b055310e30d71e6"), "categories" : [ 1, 2, 3 ] }



```

<br>


















